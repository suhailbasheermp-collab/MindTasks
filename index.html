
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mind & Tasks</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="theme-color" content="#0b0c15">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;1,300&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-deep: #050508;
            --text-main: #e0e0e0;
            --text-muted: rgba(255, 255, 255, 0.5);
            --gold: #d4af37;
            --gold-glow: rgba(212, 175, 55, 0.3);
            --mystic-purple: #4b0082;
            --mystic-blue: #191970;
            --red: #8B0000; --yellow: #B8860B; --green: #2F4F4F;
            --font-serif: 'Merriweather', serif;
            --font-ui: 'Rajdhani', sans-serif;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; padding: 0; font-family: var(--font-ui); background-color: var(--bg-deep); color: var(--text-main); min-height: 100vh; overflow-x: hidden; }

        /* AURORA ANIMATION */
        .aurora-bg { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1; background: radial-gradient(circle at 50% 50%, #0a0a10 0%, #000000 100%); overflow: hidden; }
        .aurora-blob { position: absolute; filter: blur(90px); opacity: 0.3; animation: float 20s infinite ease-in-out alternate; }
        .blob-1 { top: -10%; left: -10%; width: 60vw; height: 60vw; background: var(--mystic-purple); animation-duration: 25s; }
        .blob-2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: var(--mystic-blue); animation-duration: 30s; }
        .blob-3 { top: 40%; left: 30%; width: 50vw; height: 50vw; background: var(--gold); opacity: 0.15; animation-duration: 22s; }
        @keyframes float { 0% { transform: translate(0, 0) scale(1); } 100% { transform: translate(20px, 40px) scale(1.1); } }

        /* FIREFLIES */
        .firefly-container { position: fixed; top:0; left:0; width:100%; height:100%; pointer-events: none; z-index: 999; display: none; }
        .firefly-container.active { display: block; }
        .firefly {
            position: absolute; width: 3px; height: 3px; background: #ffd700;
            border-radius: 50%; box-shadow: 0 0 15px #ffd700, 0 0 30px orange;
            opacity: 0; animation: fly 8s infinite ease-in-out;
        }
        @keyframes fly {
            0% { transform: translate(0,0) scale(0.5); opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { transform: translate(var(--moveX), var(--moveY)) scale(0.5); opacity: 0; }
        }

        /* HEADER */
        header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; position: sticky; top: 0; z-index: 50; background: rgba(5, 5, 8, 0.8); backdrop-filter: blur(12px); border-bottom: 1px solid rgba(212, 175, 55, 0.1); }
        .brand-logo { font-family: var(--font-serif); font-weight: 700; font-size: 1.3rem; letter-spacing: 1px; color: var(--gold); display: flex; align-items: center; gap: 10px; }
        .header-actions { display: flex; gap: 20px; }
        .icon-btn { background: none; border: none; font-size: 1.3rem; cursor: pointer; opacity: 0.8; transition: 0.3s; }
        .icon-btn:hover { transform: scale(1.1); opacity: 1; text-shadow: 0 0 10px var(--gold); }

        /* QUOTE BANNER */
        .wisdom-banner { margin: 20px 20px 10px 20px; padding: 20px; background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(212, 175, 55, 0.2); border-left: 3px solid var(--gold); border-radius: 12px; cursor: pointer; position: relative; overflow: hidden; }
        .banner-text { font-family: var(--font-serif); font-style: italic; font-size: 1rem; line-height: 1.5; color: #ddd; }
        .banner-author { display: block; margin-top: 8px; font-size: 0.75rem; text-transform: uppercase; color: var(--gold); text-align: right; letter-spacing: 1px; }

        /* LAYOUT */
        .container { padding: 0 20px 100px 20px; }
        .section-title { font-family: var(--font-serif); font-size: 1.2rem; color: var(--gold); margin: 30px 0 15px 0; border-bottom: 1px solid rgba(212, 175, 55, 0.1); padding-bottom: 5px; display: inline-block; }

        /* MIND CARDS */
        .mind-grid { display: flex; gap: 15px; }
        .mind-card { flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; padding: 20px; text-align: center; cursor: pointer; transition: 0.3s; }
        .mind-card h3 { margin: 5px 0 0 0; font-family: var(--font-serif); font-weight: 300; font-size: 1.1rem; color: #fff; }
        .mind-card span { font-size: 1.8rem; display: block; text-shadow: 0 0 15px var(--gold-glow); }
        .mind-count { font-size: 0.75rem; color: var(--text-muted); margin-top: 5px; }

        /* TASKS */
        .task-group { margin-bottom: 15px; }
        .group-header { font-size: 0.85rem; text-transform: uppercase; letter-spacing: 2px; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; color: var(--text-muted); }
        .task-item { background: rgba(30, 30, 35, 0.6); border-bottom: 1px solid rgba(255,255,255,0.05); padding: 16px; display: flex; align-items: center; justify-content: space-between; transition: 0.2s; }
        .task-item:first-child { border-top-left-radius: 12px; border-top-right-radius: 12px; }
        .task-item:last-child { border-bottom-left-radius: 12px; border-bottom-right-radius: 12px; border-bottom: none; }
        .task-item.red { border-left: 3px solid #ff4444; }
        .task-item.yellow { border-left: 3px solid #ffbb00; }
        .task-item.green { border-left: 3px solid #00cc66; }
        .task-item.loop { border-left: 3px solid #888; background: rgba(255,255,255,0.03); }
        .task-item.marker { border-left: 3px solid var(--gold); background: rgba(212, 175, 55, 0.05); }
        .task-text { flex: 1; font-size: 1rem; padding: 0 12px; font-family: var(--font-ui); }
        .task-item.done { opacity: 0.4; text-decoration: line-through; filter: grayscale(100%); }
        .check-circle { width: 20px; height: 20px; border-radius: 50%; border: 1px solid var(--text-muted); cursor: pointer; }
        .empty-msg { text-align: center; padding: 20px; color: var(--text-muted); font-style: italic; font-family: var(--font-serif); font-size: 0.9rem; border: 1px dashed rgba(255,255,255,0.1); border-radius: 12px; cursor: pointer; }

        /* FAB */
        .fab { position: fixed; bottom: 30px; right: 30px; width: 64px; height: 64px; border-radius: 50%; background: #111; color: var(--gold); border: 1px solid var(--gold); font-size: 32px; cursor: pointer; z-index: 90; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 20px var(--gold-glow); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); animation: breathe 4s infinite ease-in-out; }
        .fab:hover { transform: scale(1.05); }
        .fab:active { animation: jelly 0.5s; }
        @keyframes breathe { 0%, 100% { box-shadow: 0 0 15px var(--gold-glow); } 50% { box-shadow: 0 0 30px rgba(212, 175, 55, 0.5); } }
        @keyframes jelly { 0% { transform: scale(1, 1); } 25% { transform: scale(0.9, 1.1); } 50% { transform: scale(1.1, 0.9); } 75% { transform: scale(0.95, 1.05); } 100% { transform: scale(1, 1); } }

        /* SUB-PAGES */
        .sub-page { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #08080a; z-index: 60; display: flex; flex-direction: column; transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1); }
        .sub-page.active { transform: translateX(0); }
        .sub-content { padding: 20px; flex: 1; overflow-y: auto; }
        .close-bar { width: 100%; padding: 15px; text-align: center; color: var(--gold); text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem; opacity: 0.7; margin-top: auto; cursor: pointer;}

        /* TIMER CENTERED */
        .timer-wrapper { flex: 1; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: absolute; top: 0; left: 0; height: 100%; }
        .zen-circle { width: 220px; height: 220px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: center; align-items: center; margin-bottom: 30px; position: relative; transition: all 0.5s; z-index: 10; }
        .zen-circle.active { animation: zen-breathe 8s infinite ease-in-out; border-color: var(--gold); background: radial-gradient(circle, rgba(212,175,55,0.1) 0%, rgba(0,0,0,0) 70%); }
        .timer-text { font-size: 4.5rem; font-family: var(--font-ui); font-weight: 200; color: #fff; text-shadow: 0 0 20px rgba(0,0,0,0.5); z-index: 11; }
        
        .timer-input-area { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 30px; z-index: 10; }
        .t-input { background: transparent; border: none; border-bottom: 1px solid var(--gold); color: white; font-size: 2.5rem; width: 80px; text-align: center; font-family: var(--font-ui); outline: none; padding-bottom: 5px; }
        @keyframes zen-breathe { 0% { transform: scale(1); box-shadow: 0 0 0 0 var(--gold-glow); } 40% { transform: scale(1.1); box-shadow: 0 0 60px 20px var(--gold-glow); } 100% { transform: scale(1); box-shadow: 0 0 0 0 var(--gold-glow); } }

        /* MODALS */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 100; display: none; justify-content: center; align-items: flex-end; }
        .modal.active { display: flex; }
        .modal.center { align-items: center; padding: 20px; }
        .sheet { background: #15151a; width: 100%; padding: 30px 20px; border-top-left-radius: 24px; border-top-right-radius: 24px; border-top: 1px solid rgba(255,255,255,0.1); animation: slideUp 0.3s ease; }
        .card-modal { background: #15151a; border: 1px solid var(--gold); padding: 30px; border-radius: 16px; width: 100%; max-width: 400px; text-align: center; animation: popIn 0.3s ease; box-shadow: 0 0 40px rgba(0,0,0,0.5); }
        .pill-container { display: flex; gap: 10px; margin-bottom: 20px; overflow-x: auto; padding-bottom: 5px; }
        .pill { padding: 8px 16px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.2); color: var(--text-muted); font-size: 0.9rem; cursor: pointer; white-space: nowrap; }
        .pill.selected { background: var(--gold); color: black; border-color: var(--gold); font-weight: bold; }
        textarea { width: 100%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 15px; border-radius: 12px; font-size: 1rem; font-family: var(--font-serif); resize: none; height: 120px; outline: none; margin-bottom: 20px; }
        .btn { width: 100%; padding: 15px; border-radius: 12px; border: none; font-weight: bold; font-size: 1rem; cursor: pointer; }
        .btn-primary { background: var(--text-main); color: black; }
        .btn-gold { background: var(--gold); color: black; }
        .btn-ghost { background: transparent; color: var(--text-muted); border: 1px solid rgba(255,255,255,0.1); }

        @keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }
        @keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="aurora-bg"><div class="aurora-blob blob-1"></div><div class="aurora-blob blob-2"></div><div class="aurora-blob blob-3"></div></div>
    <div id="fireflies" class="firefly-container"></div>

    <div id="home-view">
        <header>
            <div class="brand-logo"><span>MIND</span><span style="font-weight:300; color:var(--text-muted)">TASKS</span></div>
            <div class="header-actions"><button class="icon-btn" onclick="showInfo()">‚ÑπÔ∏è</button><button class="icon-btn" onclick="openTimer()">‚åõ</button></div>
        </header>

        <div class="wisdom-banner" onclick="showQuote()">
            <div id="banner-text" class="banner-text">Loading wisdom...</div>
            <span id="banner-author" class="banner-author"></span>
        </div>

        <div class="container">
            <div class="section-title">Inner Space</div>
            <div class="mind-grid">
                <div class="mind-card" onclick="openPage('loop')"><span>‚ûø</span><h3>Loop</h3><div class="mind-count" id="count-loop">0</div></div>
                <div class="mind-card" onclick="openPage('marker')"><span>‚úíÔ∏è</span><h3>Perma</h3><div class="mind-count" id="count-marker">0</div></div>
            </div>

            <div class="section-title">Action</div>
            <div class="task-group"><div class="group-header" style="color: #ff6b6b">üî• High Priority</div><div id="list-red"></div></div>
            <div class="task-group"><div class="group-header" style="color: #ffd93d">‚ö° Flow State</div><div id="list-yellow"></div></div>
            <div class="task-group"><div class="group-header" style="color: #6bcb77">üçÉ Gentle</div><div id="list-green"></div></div>
        </div>
        <button class="fab" onclick="openModal()">+</button>
    </div>

    <div id="loop-page" class="sub-page">
        <div class="sub-page-content">
            <header><button class="icon-btn" onclick="closePage()">‚Üê</button><div class="brand-logo">LOOPS</div><div></div></header>
            <div class="sub-content"><p style="text-align:center; color:var(--text-muted); font-style:italic;">Traps for uninvited thoughts.</p><div id="page-list-loop"></div></div>
            <div class="close-bar" onclick="closePage()">Return</div>
        </div>
    </div>
    <div id="marker-page" class="sub-page">
        <div class="sub-page-content">
            <header><button class="icon-btn" onclick="closePage()">‚Üê</button><div class="brand-logo">PERMA</div><div></div></header>
            <div class="sub-content"><p style="text-align:center; color:var(--text-muted); font-style:italic;">Deep truths scribed permanently.</p><div id="page-list-marker"></div></div>
            <div class="close-bar" onclick="closePage()">Return</div>
        </div>
    </div>

    <div id="timer-page" class="sub-page" style="background: #000;">
        <header style="z-index:100; background:transparent; border:none;"><button class="icon-btn" onclick="closeTimer()">‚úï</button><div></div><div></div></header>
        <div class="sub-page-content" style="justify-content: center; padding: 0;">
            <div class="timer-wrapper">
                <div class="zen-circle" id="breath-circle"><div class="timer-text" id="timer-display">05:00</div></div>
                
                <div class="timer-input-area" id="timer-setup">
                    <input type="number" id="custom-min" class="t-input" value="5" min="1"> <span style="color:var(--text-muted); font-size: 1.2rem;">MINUTES</span>
                </div>

                <div style="display:flex; gap:10px; margin-top:20px;">
                    <button class="btn btn-gold" style="padding: 15px 40px; border-radius: 50px;" id="timer-btn" onclick="startSequence()">Start Focus</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="modal-input">
        <div class="sheet">
            <div class="pill-container" id="category-pills">
                <div class="pill selected" onclick="setCat('red', this)">üî• High</div>
                <div class="pill" onclick="setCat('yellow', this)">‚ö° Flow</div>
                <div class="pill" onclick="setCat('green', this)">üçÉ Gentle</div>
                <div class="pill" onclick="setCat('loop', this)">‚ûø Loop</div>
                <div class="pill" onclick="setCat('marker', this)">‚úíÔ∏è Perma</div>
            </div>
            <textarea id="input-text" placeholder="Write here..."></textarea>
            <div style="display:flex; gap:10px"><button class="btn btn-ghost" onclick="closeModal()">Cancel</button><button class="btn btn-primary" onclick="saveNote()">Save</button></div>
        </div>
    </div>

    <div class="modal center" id="modal-quote" onclick="if(event.target === this) closeQuote()">
        <div class="card-modal">
            <div style="font-size:2rem; margin-bottom:10px">üìú</div>
            <div id="modal-quote-text" class="quote-text" style="font-size:1.2rem; font-style:italic; margin-bottom:15px; font-family:var(--font-serif); color:#fff;"></div>
            <div id="modal-quote-author" class="quote-author" style="color:var(--gold); text-transform:uppercase; font-size:0.8rem; letter-spacing:1px;"></div>
            <button class="btn btn-gold" style="margin-top:20px" onclick="closeQuote()">Absorb</button>
        </div>
    </div>

    <div class="modal center" id="modal-info" onclick="if(event.target === this) closeInfo()">
        <div class="card-modal" style="text-align: left;">
            <h3 style="text-align:center; color:var(--gold); margin-top:0; font-family:var(--font-serif)">Guide</h3>
            <p style="color:#ddd; font-family:var(--font-ui)"><strong>üî• High:</strong> Urgent fire. Do now.</p>
            <p style="color:#ddd; font-family:var(--font-ui)"><strong>‚ö° Flow:</strong> Steady work. Do soon.</p>
            <p style="color:#ddd; font-family:var(--font-ui)"><strong>üçÉ Gentle:</strong> Relaxed tasks. No rush.</p>
            <hr style="opacity:0.2">
            <p style="color:#ddd; font-family:var(--font-ui)"><strong>‚ûø Loop:</strong> Capture repetitive thoughts.</p>
            <p style="color:#ddd; font-family:var(--font-ui)"><strong>‚úíÔ∏è Perma:</strong> Scribe deep realizations.</p>
            <button class="btn btn-ghost" style="margin-top:10px; width:100%" onclick="closeInfo()">Close</button>
        </div>
    </div>

    <script>
        /* --- CACHE KILLER --- */
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) { registration.unregister(); } 
            });
        }

        let notes = JSON.parse(localStorage.getItem('auroraNotes')) || [];
        let currentCat = 'red';
        
        // --- FULL LIBRARY (EXPANDED) ---
        const library = [
            {t:"The wound is the place where the Light enters you.",a:"Rumi"},
            {t:"What you seek is seeking you.",a:"Rumi"},
            {t:"Stop acting so small. You are the universe in ecstatic motion.",a:"Rumi"},
            {t:"Silence is the language of God, all else is poor translation.",a:"Rumi"},
            {t:"Sell your cleverness and buy bewilderment.",a:"Rumi"},
            {t:"Knock, And He'll open the door.",a:"Rumi"},
            {t:"You were born with wings, why prefer to crawl through life?",a:"Rumi"},
            {t:"Don't be satisfied with stories, how things have gone with others. Unfold your own myth.",a:"Rumi"},
            {t:"I wish I could show you when you are lonely or in darkness the astonishing light of your own being.",a:"Hafiz"},
            {t:"Fear is the cheapest room in the house. I would like to see you living in better conditions.",a:"Hafiz"},
            {t:"Even after all this time the sun never says to the earth, 'You owe me.' Look what happens with a love like that. It lights the whole sky.",a:"Hafiz"},
            {t:"The sun is within me, and so is the moon.",a:"Kabir"},
            {t:"Wherever you stand, be the soul of that place.",a:"Rumi"},
            {t:"Be empty of worrying. Think of who created thought.",a:"Rumi"},
            {t:"Your heart is the size of an ocean. Go find yourself in its hidden depths.",a:"Rumi"},
            {t:"Let yourself be silently drawn by the strange pull of what you really love. It will not lead you astray.",a:"Rumi"},
            {t:"Travel brings power and love back into your life.",a:"Rumi"},
            {t:"The mind creates the abyss, the heart crosses it.",a:"Nisargadatta Maharaj"},
            {t:"Wisdom is knowing I am nothing, Love is knowing I am everything.",a:"Nisargadatta Maharaj"},
            {t:"Everything happens on its own. You are doing nothing.",a:"Nisargadatta Maharaj"},
            {t:"Once you realize that the road is the goal and that you are always on the road, not to reach a goal, but to enjoy its beauty and its wisdom, life ceases to be a task and becomes natural and simple.",a:"Nisargadatta Maharaj"},
            {t:"Arise, awake, and stop not till the goal is reached.",a:"Swami Vivekananda"},
            {t:"You have to grow from the inside out. None can teach you, none can make you spiritual. There is no other teacher but your own soul.",a:"Swami Vivekananda"},
            {t:"All power is within you; you can do anything and everything.",a:"Swami Vivekananda"},
            {t:"In a conflict between the heart and the brain, follow your heart.",a:"Swami Vivekananda"},
            {t:"Your own Self-Realization is the greatest service you can render the world.",a:"Ramana Maharshi"},
            {t:"Be as you are.",a:"Ramana Maharshi"},
            {t:"There is no greater mystery than this: that we keep seeking reality though in fact we are reality.",a:"Ramana Maharshi"},
            {t:"The degree of freedom from unwanted thoughts and the degree of concentration on a single thought are the measures to gauge spiritual progress.",a:"Ramana Maharshi"},
            {t:"Faith is the bird that feels the light when the dawn is still dark.",a:"Rabindranath Tagore"},
            {t:"Clouds come floating into my life, no longer to carry rain or usher storm, but to add color to my sunset sky.",a:"Rabindranath Tagore"},
            {t:"Let your life lightly dance on the edges of Time like dew on the tip of a leaf.",a:"Rabindranath Tagore"},
            {t:"Love is an endless mystery, for it has nothing else to explain it.",a:"Rabindranath Tagore"},
            {t:"Everything comes to us that belongs to us if we create the capacity to receive it.",a:"Rabindranath Tagore"},
            {t:"The butterfly counts not months but moments, and has time enough.",a:"Rabindranath Tagore"},
            {t:"The eye through which I see God is the same eye through which God sees me.",a:"Meister Eckhart"},
            {t:"If the only prayer you ever say in your entire life is thank you, it will be enough.",a:"Meister Eckhart"},
            {t:"Nature does not hurry, yet everything is accomplished.",a:"Lao Tzu"},
            {t:"To the mind that is still, the whole universe surrenders.",a:"Lao Tzu"},
            {t:"The journey of a thousand miles begins with a single step.",a:"Lao Tzu"},
            {t:"When I let go of what I am, I become what I might be.",a:"Lao Tzu"},
            {t:"Knowing others is intelligence; knowing yourself is true wisdom.",a:"Lao Tzu"},
            {t:"Peace comes from within. Do not seek it without.",a:"Buddha"},
            {t:"The mind is everything. What you think you become.",a:"Buddha"},
            {t:"Three things cannot be long hidden: the sun, the moon, and the truth.",a:"Buddha"},
            {t:"Start by doing what's necessary; then do what's possible; and suddenly you are doing the impossible.",a:"St. Francis of Assisi"},
            {t:"Preach the Gospel at all times. Use words if necessary.",a:"St. Francis of Assisi"},
            {t:"All shall be well, and all shall be well, and all manner of thing shall be well.",a:"Julian of Norwich"},
            {t:"Let nothing disturb you, let nothing frighten you. All things are passing away: God never changes.",a:"St. Teresa of Avila"},
            {t:"In the evening of life, we will be judged on love alone.",a:"St. John of the Cross"},
            {t:"Silence is God's first language.",a:"St. John of the Cross"},
            {t:"Simplicity is the ultimate sophistication.",a:"Leonardo da Vinci"},
            {t:"He who has a why to live can bear almost any how.",a:"Friedrich Nietzsche"},
            {t:"In the midst of winter, I found there was, within me, an invincible summer.",a:"Albert Camus"},
            {t:"Be the change that you wish to see in the world.",a:"Mahatma Gandhi"},
            {t:"Where there is love there is life.",a:"Mahatma Gandhi"},
            {t:"Live as if you were to die tomorrow. Learn as if you were to live forever.",a:"Mahatma Gandhi"},
            {t:"The weak can never forgive. Forgiveness is the attribute of the strong.",a:"Mahatma Gandhi"},
            {t:"If you want to know him, you must be him.",a:"Ibn Arabi"},
            {t:"Die before you die.",a:"Prophet Muhammad"},
            {t:"This place is a dream. Only a sleeper considers it real.",a:"Rumi"},
            {t:"Do not feel lonely, the entire universe is inside you.",a:"Rumi"},
            {t:"Respond to every call that excites your spirit.",a:"Rumi"},
            {t:"Let the beauty of what you love be what you do.",a:"Rumi"},
            {t:"There is a voice that doesn't use words. Listen.",a:"Rumi"},
            {t:"Why do you stay in prison, when the door is so wide open?",a:"Rumi"},
            {t:"Everything in the universe is a pitcher brimming with wisdom and beauty.",a:"Rumi"},
            {t:"The lion is most handsome when looking for food.",a:"Rumi"},
            {t:"Raise your words, not voice. It is rain that grows flowers, not thunder.",a:"Rumi"},
            {t:"Lovers don't finally meet somewhere. They're in each other all along.",a:"Rumi"},
            {t:"Seek the wisdom that will untie your knot. Seek the path that demands your whole being.",a:"Rumi"},
            {t:"Be melting snow. Wash yourself of yourself.",a:"Rumi"},
            {t:"Gamble everything for love, if you are a true human being.",a:"Rumi"},
            {t:"Observe the wonders as they occur around you. Don't claim them. Feel the artistry moving through and be silent.",a:"Rumi"},
            {t:"Dance, when you're broken open. Dance, if you've torn the bandage off. Dance in the middle of the fighting.",a:"Rumi"},
            {t:"It is not the mountain we conquer but ourselves.",a:"Edmund Hillary"},
            {t:"He who knows others is wise; he who knows himself is enlightened.",a:"Lao Tzu"},
            {t:"The truth is not always beautiful, nor beautiful words the truth.",a:"Lao Tzu"},
            {t:"Simplicity is the ultimate sophistication.",a:"Leonardo da Vinci"},
            {t:"Peace comes from within. Do not seek it without.",a:"Buddha"},
            {t:"You, yourself, as much as anybody in the entire universe, deserve your love and affection.",a:"Buddha"},
            {t:"The mind is everything. What you think you become.",a:"Buddha"},
            {t:"Three things cannot be long hidden: the sun, the moon, and the truth.",a:"Buddha"},
            {t:"No one saves us but ourselves. No one can and no one may. We ourselves must walk the path.",a:"Buddha"},
            {t:"Pain is inevitable. Suffering is optional.",a:"Haruki Murakami"},
            {t:"Act without expectation.",a:"Lao Tzu"},
            {t:"If you are depressed you are living in the past. If you are anxious you are living in the future. If you are at peace you are living in the present.",a:"Lao Tzu"},
            {t:"Be content with what you have; rejoice in the way things are. When you realize there is nothing lacking, the whole world belongs to you.",a:"Lao Tzu"},
            {t:"The journey of a thousand miles begins with a single step.",a:"Lao Tzu"},
            {t:"Kindness in words creates confidence. Kindness in thinking creates profoundness. Kindness in giving creates love.",a:"Lao Tzu"},
            {t:"Silence is a source of great strength.",a:"Lao Tzu"},
            {t:"To lead people walk behind them.",a:"Lao Tzu"},
            {t:"Care about what other people think and you will always be their prisoner.",a:"Lao Tzu"},
            {t:"Do the difficult things while they are easy and do the great things while they are small.",a:"Lao Tzu"},
            {t:"From wonder into wonder existence opens.",a:"Lao Tzu"},
            {t:"When I let go of what I am, I become what I might be.",a:"Lao Tzu"},
            {t:"For the things we have to learn before we can do them, we learn by doing them.",a:"Aristotle"},
            {t:"Knowing yourself is the beginning of all wisdom.",a:"Aristotle"},
            {t:"It is the mark of an educated mind to be able to entertain a thought without accepting it.",a:"Aristotle"},
            {t:"Educating the mind without educating the heart is no education at all.",a:"Aristotle"},
            {t:"Happiness depends upon ourselves.",a:"Aristotle"},
            {t:"Excellence is never an accident. It is always the result of high intention, sincere effort, and intelligent execution.",a:"Aristotle"},
            {t:"We are what we repeatedly do. Excellence, then, is not an act, but a habit.",a:"Aristotle"},
            {t:"The energy of the mind is the essence of life.",a:"Aristotle"},
            {t:"He who has overcome his fears will truly be free.",a:"Aristotle"},
            {t:"The soul never thinks without a picture.",a:"Aristotle"},
            {t:"Happiness is the meaning and the purpose of life, the whole aim and end of human existence.",a:"Aristotle"},
            {t:"Patience is bitter, but its fruit is sweet.",a:"Aristotle"},
            {t:"To perceive is to suffer.",a:"Aristotle"},
            {t:"Those who know, do. Those that understand, teach.",a:"Aristotle"},
            {t:"Whosoever is delighted in solitude is either a wild beast or a god.",a:"Aristotle"},
            {t:"I count him braver who overcomes his desires than him who conquers his enemies; for the hardest victory is over self.",a:"Aristotle"},
            {t:"The unexamined life is not worth living.",a:"Socrates"},
            {t:"True wisdom comes to each of us when we realize how little we understand about life, ourselves, and the world around us.",a:"Socrates"},
            {t:"I cannot teach anybody anything. I can only make them think.",a:"Socrates"},
            {t:"To find yourself, think for yourself.",a:"Socrates"},
            {t:"He who is not contented with what he has, would not be contented with what he would like to have.",a:"Socrates"},
            {t:"Wonder is the beginning of wisdom.",a:"Socrates"},
            {t:"Be kind, for everyone you meet is fighting a hard battle.",a:"Plato"},
            {t:"Wise men speak because they have something to say; Fools because they have to say something.",a:"Plato"},
            {t:"Music is a moral law. It gives soul to the universe, wings to the mind, flight to the imagination, and charm and gaiety to life and to everything.",a:"Plato"},
            {t:"We can easily forgive a child who is afraid of the dark; the real tragedy of life is when men are afraid of the light.",a:"Plato"},
            {t:"The beginning is the most important part of the work.",a:"Plato"},
            {t:"Love is a serious mental disease.",a:"Plato"},
            {t:"Thinking: the talking of the soul with itself.",a:"Plato"},
            {t:"Courage is knowing what not to fear.",a:"Plato"},
            {t:"The measure of a man is what he does with power.",a:"Plato"},
            {t:"Ignorance, the root and stem of all evil.",a:"Plato"},
            {t:"Good actions give strength to ourselves and inspire good actions in others.",a:"Plato"},
            {t:"If you do not change direction, you may end up where you are heading.",a:"Lao Tzu"},
            {t:"A journey of a thousand sites begins with a single click.",a:"Unknown"},
            {t:"Life is what happens when you're busy making other plans.",a:"John Lennon"},
            {t:"Get busy living or get busy dying.",a:"Stephen King"},
            {t:"You only live once, but if you do it right, once is enough.",a:"Mae West"},
            {t:"Many of life's failures are people who did not realize how close they were to success when they gave up.",a:"Thomas A. Edison"},
            {t:"If you want to live a happy life, tie it to a goal, not to people or things.",a:"Albert Einstein"},
            {t:"Never let the fear of striking out keep you from playing the game.",a:"Babe Ruth"},
            {t:"Money and success don‚Äôt change people; they merely amplify what is already there.",a:"Will Smith"},
            {t:"Your time is limited, so don‚Äôt waste it living someone else‚Äôs life.",a:"Steve Jobs"},
            {t:"Not how long, but how well you have lived is the main thing.",a:"Seneca"},
            {t:"If life were predictable it would cease to be life, and be without flavor.",a:"Eleanor Roosevelt"},
            {t:"The whole secret of a successful life is to find out what is one‚Äôs destiny to do, and then do it.",a:"Henry Ford"},
            {t:"In order to write about life first you must live it.",a:"Ernest Hemingway"},
            {t:"The big lesson in life, baby, is never be scared of anyone or anything.",a:"Frank Sinatra"},
            {t:"Curiosity about life in all of its aspects, I think, is still the secret of great creative people.",a:"Leo Burnett"},
            {t:"Life is not a problem to be solved, but a reality to be experienced.",a:"S√∏ren Kierkegaard"},
            {t:"Be yourself; everyone else is already taken.",a:"Oscar Wilde"},
            {t:"The only impossible journey is the one you never begin.",a:"Tony Robbins"},
            {t:"The purpose of our lives is to be happy.",a:"Dalai Lama"},
            {t:"Life is really simple, but we insist on making it complicated.",a:"Confucius"},
            {t:"May you live all the days of your life.",a:"Jonathan Swift"},
            {t:"Life itself is the most wonderful fairy tale.",a:"Hans Christian Andersen"},
            {t:"Do not let making a living prevent you from making a life.",a:"John Wooden"},
            {t:"Life is ours to be spent, not to be saved.",a:"D. H. Lawrence"},
            {t:"Love the life you live. Live the life you love.",a:"Bob Marley"},
            {t:"Life is ten percent what happens to you and ninety percent how you respond to it.",a:"Charles Swindoll"},
            {t:"Keep calm and carry on.",a:"Winston Churchill"},
            {t:"Maybe that‚Äôs what life is‚Ä¶ a wink of the eye and winking stars.",a:"Jack Kerouac"},
            {t:"Life is a flower of which love is the honey.",a:"Victor Hugo"},
            {t:"Live in the sunshine, swim the sea, drink the wild air.",a:"Ralph Waldo Emerson"},
            {t:"The greatest pleasure of life is love.",a:"Euripides"},
            {t:"Life is what we make it, always has been, always will be.",a:"Grandma Moses"},
            {t:"Life's tragedy is that we get old too soon and wise too late.",a:"Benjamin Franklin"},
            {t:"Life is about making an impact, not making an income.",a:"Kevin Kruse"},
            {t:"Whatever the mind of man can conceive and believe, it can achieve.",a:"Napoleon Hill"},
            {t:"Two roads diverged in a wood, and I‚ÄîI took the one less traveled by, And that has made all the difference.",a:"Robert Frost"},
            {t:"I attribute my success to this: I never gave or took any excuse.",a:"Florence Nightingale"},
            {t:"You miss 100% of the shots you don't take.",a:"Wayne Gretzky"},
            {t:"I've missed more than 9000 shots in my career. I've lost almost 300 games. 26 times I've been trusted to take the game winning shot and missed. I've failed over and over and over again in my life. And that is why I succeed.",a:"Michael Jordan"},
            {t:"The most difficult thing is the decision to act, the rest is merely tenacity.",a:"Amelia Earhart"},
            {t:"Every strike brings me closer to the next home run.",a:"Babe Ruth"},
            {t:"Definiteness of purpose is the starting point of all achievement.",a:"W. Clement Stone"},
            {t:"Life isn't about getting and having, it's about giving and being.",a:"Kevin Kruse"},
            {t:"Life is what happens to you while you‚Äôre busy making other plans.",a:"John Lennon"},
            {t:"We become what we think about.",a:"Earl Nightingale"},
            {t:"Twenty years from now you will be more disappointed by the things that you didn‚Äôt do than by the ones you did do, so throw off the bowlines, sail away from safe harbor, catch the trade winds in your sails. Explore, Dream, Discover.",a:"Mark Twain"},
            {t:"Life is 10% what happens to me and 90% of how I react to it.",a:"Charles Swindoll"},
            {t:"The most common way people give up their power is by thinking they don‚Äôt have any.",a:"Alice Walker"},
            {t:"The mind is everything. What you think you become.",a:"Buddha"},
            {t:"The best time to plant a tree was 20 years ago. The second best time is now.",a:"Chinese Proverb"},
            {t:"An unexamined life is not worth living.",a:"Socrates"},
            {t:"Eighty percent of success is showing up.",a:"Woody Allen"},
            {t:"Your time is limited, so don‚Äôt waste it living someone else‚Äôs life.",a:"Steve Jobs"},
            {t:"Winning isn‚Äôt everything, but wanting to win is.",a:"Vince Lombardi"},
            {t:"I am not a product of my circumstances. I am a product of my decisions.",a:"Stephen Covey"},
            {t:"Every child is an artist. The problem is how to remain an artist once he grows up.",a:"Pablo Picasso"},
            {t:"You can never cross the ocean until you have the courage to lose sight of the shore.",a:"Christopher Columbus"},
            {t:"I‚Äôve learned that people will forget what you said, people will forget what you did, but people will never forget how you made them feel.",a:"Maya Angelou"},
            {t:"Either you run the day, or the day runs you.",a:"Jim Rohn"},
            {t:"Whether you think you can or you think you can‚Äôt, you‚Äôre right.",a:"Henry Ford"},
            {t:"The two most important days in your life are the day you are born and the day you find out why.",a:"Mark Twain"},
            {t:"Whatever you can do, or dream you can, begin it. Boldness has genius, power and magic in it.",a:"Johann Wolfgang von Goethe"},
            {t:"The best revenge is massive success.",a:"Frank Sinatra"},
            {t:"People often say that motivation doesn‚Äôt last. Well, neither does bathing. That‚Äôs why we recommend it daily.",a:"Zig Ziglar"},
            {t:"Life shrinks or expands in proportion to one's courage.",a:"Anais Nin"},
            {t:"If you hear a voice within you say ‚Äúyou cannot paint,‚Äù then by all means paint and that voice will be silenced.",a:"Vincent Van Gogh"},
            {t:"There is only one way to avoid criticism: do nothing, say nothing, and be nothing.",a:"Aristotle"},
            {t:"Ask and it will be given to you; search, and you will find; knock and the door will be opened for you.",a:"Jesus"},
            {t:"The only person you are destined to become is the person you decide to be.",a:"Ralph Waldo Emerson"},
            {t:"Go confidently in the direction of your dreams. Live the life you have imagined.",a:"Henry David Thoreau"},
            {t:"Few things can help an individual more than to place responsibility on him, and to let him know that you trust him.",a:"Booker T. Washington"},
            {t:"Remember that not getting what you want is sometimes a wonderful stroke of luck.",a:"Dalai Lama"},
            {t:"You can‚Äôt use up creativity. The more you use, the more you have.",a:"Maya Angelou"},
            {t:"Dream big and dare to fail.",a:"Norman Vaughan"},
            {t:"Our lives begin to end the day we become silent about things that matter.",a:"Martin Luther King Jr."},
            {t:"Do what you can, with what you have, where you are.",a:"Theodore Roosevelt"},
            {t:"It‚Äôs not the years in your life that count. It‚Äôs the life in your years.",a:"Abraham Lincoln"},
            {t:"Change your thoughts and you change your world.",a:"Norman Vincent Peale"},
            {t:"The only way to do great work is to love what you do.",a:"Steve Jobs"},
            {t:"If you can dream it, you can achieve it.",a:"Zig Ziglar"}
        ];

        function init() { render(); updateBanner(); }

        function render() {
            ['red', 'yellow', 'green'].forEach(c => document.getElementById(`list-${c}`).innerHTML = '');
            notes.forEach(note => { if(document.getElementById(`list-${note.cat}`)) createNoteElement(note, `list-${note.cat}`, true); });
            document.getElementById('count-loop').innerText = notes.filter(n => n.cat === 'loop').length;
            document.getElementById('count-marker').innerText = notes.filter(n => n.cat === 'marker').length;
        }

        function createNoteElement(note, containerId, isCheckable) {
            const container = document.getElementById(containerId);
            const div = document.createElement('div');
            div.className = `task-item ${note.cat} ${note.done ? 'done' : ''}`;
            const check = isCheckable ? `<div class="check-circle" onclick="toggleDone(${note.id})"></div>` : '';
            div.innerHTML = `${check}<div class="task-text">${note.text}</div><button class="icon-btn" style="font-size:0.9rem; opacity:0.5" onclick="deleteNote(${note.id})">‚úï</button>`;
            container.appendChild(div);
        }

        function openPage(type) {
            const page = document.getElementById(`${type === 'loop' ? 'loop' : 'marker'}-page`);
            const listId = `page-list-${type}`;
            const listContainer = document.getElementById(listId);
            listContainer.innerHTML = '';
            const filtered = notes.filter(n => n.cat === type);
            if(filtered.length === 0) listContainer.innerHTML = `<div class="empty-msg" onclick="openModal('${type}')">No entries yet.<br>Tap to add.</div>`;
            else filtered.forEach(n => createNoteElement(n, listId, false));
            page.classList.add('active');
        }

        function closePage() { document.querySelectorAll('.sub-page').forEach(p => p.classList.remove('active')); render(); }

        function openModal(forceCat) {
            document.getElementById('modal-input').classList.add('active'); document.getElementById('input-text').focus();
            if(forceCat) setCat(forceCat, null); else setCat('red', document.querySelector('.pill'));
        }
        function closeModal() { document.getElementById('modal-input').classList.remove('active'); document.getElementById('input-text').value = ''; }

        function setCat(cat, el) {
            currentCat = cat; const pills = document.querySelectorAll('.pill');
            pills.forEach(p => p.classList.remove('selected'));
            if(el) el.classList.add('selected');
            else pills.forEach(p => { if(p.innerText.toLowerCase().includes(cat)) p.classList.add('selected'); });
        }

        function saveNote() {
            const text = document.getElementById('input-text').value.trim();
            if(!text) return;
            notes.push({ id: Date.now(), text, cat: currentCat, done: false });
            localStorage.setItem('auroraNotes', JSON.stringify(notes));
            const loopOpen = document.getElementById('loop-page').classList.contains('active');
            const markerOpen = document.getElementById('marker-page').classList.contains('active');
            if(loopOpen) openPage('loop'); else if(markerOpen) openPage('marker'); else render();
            closeModal();
        }

        function deleteNote(id) {
            if(confirm("Remove this entry?")) {
                notes = notes.filter(n => n.id !== id);
                localStorage.setItem('auroraNotes', JSON.stringify(notes));
                const loopOpen = document.getElementById('loop-page').classList.contains('active');
                const markerOpen = document.getElementById('marker-page').classList.contains('active');
                if(loopOpen) openPage('loop'); else if(markerOpen) openPage('marker'); else render();
            }
        }

        function toggleDone(id) { const note = notes.find(n => n.id === id); if(note) { note.done = !note.done; localStorage.setItem('auroraNotes', JSON.stringify(notes)); render(); } }

        function updateBanner() { const q = library[Math.floor(Math.random() * library.length)]; document.getElementById('banner-text').innerText = `"${q.t}"`; document.getElementById('banner-author').innerText = `- ${q.a}`; }
        function showQuote() { const q = library[Math.floor(Math.random() * library.length)]; document.getElementById('modal-quote-text').innerText = `"${q.t}"`; document.getElementById('modal-quote-author').innerText = `- ${q.a}`; document.getElementById('modal-quote').classList.add('active'); updateBanner(); }
        function closeQuote() { document.getElementById('modal-quote').classList.remove('active'); }

        // TIMER
        let timerInt; let seconds = 300; let isRunning = false;
        
        function spawnFireflies() {
            const container = document.getElementById('fireflies'); container.classList.add('active'); container.innerHTML = '';
            for(let i=0; i<30; i++) {
                const fly = document.createElement('div'); fly.className = 'firefly';
                fly.style.left = Math.random() * 100 + 'vw'; fly.style.top = Math.random() * 100 + 'vh';
                fly.style.setProperty('--moveX', (Math.random() * 200 - 100) + 'px'); fly.style.setProperty('--moveY', (Math.random() * 200 - 100) + 'px');
                fly.style.animationDuration = (6 + Math.random() * 6) + 's'; fly.style.animationDelay = (Math.random() * 5) + 's';
                container.appendChild(fly);
            }
        }
        function clearFireflies() { document.getElementById('fireflies').classList.remove('active'); document.getElementById('fireflies').innerHTML = ''; }

        function playSound(type) {
            const AudioContext = window.AudioContext || window.webkitAudioContext; if (!AudioContext) return;
            const ctx = new AudioContext(); const osc = ctx.createOscillator(); const gain = ctx.createGain();
            osc.connect(gain); gain.connect(ctx.destination);
            if(type === 'ding') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(800, ctx.currentTime);
                gain.gain.setValueAtTime(0, ctx.currentTime); gain.gain.linearRampToValueAtTime(0.1, ctx.currentTime + 0.05); gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 1);
                osc.start(); osc.stop(ctx.currentTime + 1);
            } else {
                osc.type = 'sine'; osc.frequency.setValueAtTime(200, ctx.currentTime);
                gain.gain.setValueAtTime(0, ctx.currentTime); gain.gain.linearRampToValueAtTime(0.3, ctx.currentTime + 0.1); gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 4);
                osc.start(); osc.stop(ctx.currentTime + 4);
            }
        }

        function openTimer() { document.getElementById('timer-page').classList.add('active'); }
        function closeTimer() { 
            document.getElementById('timer-page').classList.remove('active'); 
            resetTimer();
        }

        function startSequence() {
            document.getElementById('timer-setup').classList.add('hidden'); document.getElementById('timer-btn').parentElement.style.display = 'none';
            const display = document.getElementById('timer-display');
            let count = 3; display.innerText = "Ready...";
            const countdown = setInterval(() => {
                if(count > 0) { playSound('ding'); display.innerText = count; count--; } 
                else { clearInterval(countdown); playSound('ding'); startActualTimer(); }
            }, 1000);
        }

        function startActualTimer() {
            const inputMin = parseInt(document.getElementById('custom-min').value) || 5; seconds = inputMin * 60;
            document.getElementById('breath-circle').classList.add('active'); spawnFireflies();
            document.getElementById('timer-btn').innerText = "Pause"; document.getElementById('timer-btn').parentElement.style.display = 'flex';
            isRunning = true;
            timerInt = setInterval(() => {
                if(seconds > 0) { seconds--; const m = Math.floor(seconds / 60); const s = seconds % 60; document.getElementById('timer-display').innerText = `${m < 10 ? '0':''}${m}:${s < 10 ? '0':''}${s}`; } 
                else { finishTimer(); }
            }, 1000);
        }

        function finishTimer() {
            clearInterval(timerInt); isRunning = false; document.getElementById('timer-display').innerText = "00:00";
            document.getElementById('breath-circle').classList.remove('active'); clearFireflies(); playSound('gong'); 
            alert("Focus Session Complete"); resetTimer();
        }

        function resetTimer() {
            clearInterval(timerInt); isRunning = false;
            document.getElementById('breath-circle').classList.remove('active'); document.getElementById('timer-setup').classList.remove('hidden');
            document.getElementById('timer-btn').parentElement.style.display = 'flex'; document.getElementById('timer-btn').innerText = "Start Focus";
            document.getElementById('timer-btn').onclick = startSequence;
            const inputMin = document.getElementById('custom-min').value; document.getElementById('timer-display').innerText = (inputMin < 10 ? "0" + inputMin : inputMin) + ":00";
            clearFireflies();
        }

        function showInfo() { document.getElementById('modal-info').classList.add('active'); }
        function closeInfo() { document.getElementById('modal-info').classList.remove('active'); }

        init();
    </script>
</body>
</html>
